/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from "@kubb/plugin-client/clients/axios";
import type {
  V1DexSwapCalculatePeraFeeCreateMutationRequest,
  V1DexSwapCalculatePeraFeeCreateMutationResponse,
} from "../types/V1DexSwapCalculatePeraFeeCreate.ts";
import type {
  RequestConfig,
  ResponseErrorConfig,
} from "@kubb/plugin-client/clients/axios";
import type { UseMutationOptions, QueryClient } from "@tanstack/react-query";
import {
  v1DexSwapCalculatePeraFeeCreateMutationResponseSchema,
  v1DexSwapCalculatePeraFeeCreateMutationRequestSchema,
} from "../zod/v1DexSwapCalculatePeraFeeCreateSchema.ts";
import { useMutation } from "@tanstack/react-query";

export const v1DexSwapCalculatePeraFeeCreateMutationKey = () =>
  [{ url: "/v1/dex-swap/calculate-pera-fee/" }] as const;

export type V1DexSwapCalculatePeraFeeCreateMutationKey = ReturnType<
  typeof v1DexSwapCalculatePeraFeeCreateMutationKey
>;

/**
 * @description Calculates and returns the maximum possible fee amount that Pera might take in micro Algos.
 * @summary Calculate Pera Fee
 * {@link /v1/dex-swap/calculate-pera-fee/}
 */
export async function v1DexSwapCalculatePeraFeeCreate(
  { data }: { data: V1DexSwapCalculatePeraFeeCreateMutationRequest },
  config: Partial<
    RequestConfig<V1DexSwapCalculatePeraFeeCreateMutationRequest>
  > & { client?: typeof fetch } = {}
) {
  const { client: request = fetch, ...requestConfig } = config;

  const requestData =
    v1DexSwapCalculatePeraFeeCreateMutationRequestSchema.parse(data);

  const res = await request<
    V1DexSwapCalculatePeraFeeCreateMutationResponse,
    ResponseErrorConfig<Error>,
    V1DexSwapCalculatePeraFeeCreateMutationRequest
  >({
    method: "POST",
    url: `/v1/dex-swap/calculate-pera-fee/`,
    data: requestData,
    ...requestConfig,
  });
  return v1DexSwapCalculatePeraFeeCreateMutationResponseSchema.parse(res.data);
}

/**
 * @description Calculates and returns the maximum possible fee amount that Pera might take in micro Algos.
 * @summary Calculate Pera Fee
 * {@link /v1/dex-swap/calculate-pera-fee/}
 */
export function useV1DexSwapCalculatePeraFeeCreate<TContext>(
  options: {
    mutation?: UseMutationOptions<
      V1DexSwapCalculatePeraFeeCreateMutationResponse,
      ResponseErrorConfig<Error>,
      { data: V1DexSwapCalculatePeraFeeCreateMutationRequest },
      TContext
    > & { client?: QueryClient };
    client?: Partial<
      RequestConfig<V1DexSwapCalculatePeraFeeCreateMutationRequest>
    > & { client?: typeof fetch };
  } = {}
) {
  const { mutation = {}, client: config = {} } = options ?? {};
  const { client: queryClient, ...mutationOptions } = mutation;
  const mutationKey =
    mutationOptions.mutationKey ?? v1DexSwapCalculatePeraFeeCreateMutationKey();

  return useMutation<
    V1DexSwapCalculatePeraFeeCreateMutationResponse,
    ResponseErrorConfig<Error>,
    { data: V1DexSwapCalculatePeraFeeCreateMutationRequest },
    TContext
  >(
    {
      mutationFn: async ({ data }) => {
        return v1DexSwapCalculatePeraFeeCreate({ data }, config);
      },
      mutationKey,
      ...mutationOptions,
    },
    queryClient
  );
}
