/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "../../../algod-query-client";
import type { RequestConfig, ResponseErrorConfig } from "../../../algod-query-client";
import type { RawTransactionAsyncMutationRequest, RawTransactionAsyncMutationResponse, RawTransactionAsync400, RawTransactionAsync401, RawTransactionAsync404, RawTransactionAsync500, RawTransactionAsync503 } from "../types/RawTransactionAsync.ts";
import type { UseMutationOptions, UseMutationResult, QueryClient } from "@tanstack/react-query";
import { rawTransactionAsyncMutationResponseSchema, rawTransactionAsyncMutationRequestSchema } from "../zod/rawTransactionAsyncSchema.ts";
import { mutationOptions, useMutation } from "@tanstack/react-query";

export const rawTransactionAsyncMutationKey = () => [{ url: '/v2/transactions/async' }] as const

export type RawTransactionAsyncMutationKey = ReturnType<typeof rawTransactionAsyncMutationKey>

/**
 * @summary Fast track for broadcasting a raw transaction or transaction group to the network through the tx handler without performing most of the checks and reporting detailed errors. Should be only used for development and performance testing.
 * {@link /v2/transactions/async}
 */
export async function rawTransactionAsync({ data }: { data?: RawTransactionAsyncMutationRequest }, config: Partial<RequestConfig<RawTransactionAsyncMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = rawTransactionAsyncMutationRequestSchema.parse(data)  
  
  const res = await request<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, RawTransactionAsyncMutationRequest>({ method : "POST", url : `/v2/transactions/async`, data : requestData, ... requestConfig, headers : { 'Content-Type': 'application/x-binary', ...requestConfig.headers } })  
  return rawTransactionAsyncMutationResponseSchema.parse(res.data)
}

export function rawTransactionAsyncMutationOptions(config: Partial<RequestConfig<RawTransactionAsyncMutationRequest>> & { client?: typeof fetch } = {}) {
  const mutationKey = rawTransactionAsyncMutationKey()
  return mutationOptions<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, {data?: RawTransactionAsyncMutationRequest}, typeof mutationKey>({
    mutationKey,
    mutationFn: async({ data }) => {
      return rawTransactionAsync({ data }, config)
    },
  })
}

/**
 * @summary Fast track for broadcasting a raw transaction or transaction group to the network through the tx handler without performing most of the checks and reporting detailed errors. Should be only used for development and performance testing.
 * {@link /v2/transactions/async}
 */
export function useRawTransactionAsync<TContext>(options: 
{
  mutation?: UseMutationOptions<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, {data?: RawTransactionAsyncMutationRequest}, TContext> & { client?: QueryClient },
  client?: Partial<RequestConfig<RawTransactionAsyncMutationRequest>> & { client?: typeof fetch },
}
 = {}) {
  const { mutation = {}, client: config = {} } = options ?? {}
  const { client: queryClient, ...mutationOptions } = mutation;
  const mutationKey = mutationOptions.mutationKey ?? rawTransactionAsyncMutationKey()

  const baseOptions = rawTransactionAsyncMutationOptions(config) as UseMutationOptions<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, {data?: RawTransactionAsyncMutationRequest}, TContext>

  return useMutation<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, {data?: RawTransactionAsyncMutationRequest}, TContext>({
    ...baseOptions,
    mutationKey,
    ...mutationOptions,
  }, queryClient) as UseMutationResult<RawTransactionAsyncMutationResponse, ResponseErrorConfig<RawTransactionAsync400 | RawTransactionAsync401 | RawTransactionAsync404 | RawTransactionAsync500 | RawTransactionAsync503>, {data?: RawTransactionAsyncMutationRequest}, TContext>
}