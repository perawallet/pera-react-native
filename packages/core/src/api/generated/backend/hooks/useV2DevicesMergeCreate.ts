/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "../../../backend-query-client";
import type { RequestConfig, ResponseErrorConfig } from "../../../backend-query-client";
import type { V2DevicesMergeCreateMutationRequest, V2DevicesMergeCreateMutationResponse, V2DevicesMergeCreateHeaderParams } from "../types/V2DevicesMergeCreate.ts";
import type { UseMutationOptions, QueryClient } from "@tanstack/react-query";
import { useMutation } from "@tanstack/react-query";

export const v2DevicesMergeCreateMutationKey = () => [{ url: '/v2/devices/merge/' }] as const

export type V2DevicesMergeCreateMutationKey = ReturnType<typeof v2DevicesMergeCreateMutationKey>

/**
 * @description This endpoint designed for devices which used device v1 logic and will use device v2 logic. If client doesn'thas 'auth_token' but if it has device 'id' then this endpoint will create new `auth_token` or create very new device.- **IMPORTANT**: Requested device `id` and returned device `id` could be different. This endpoint might create new device.- **IMPORTANT 2**: It is not a "create new auth_token" endpoint. This endpoint **will deprecate** after sometime. Use this only if you know device `id` but don't know `auth_token`. Which means client has used device v1 endpoints before and it is the first time to need to use device v2 endpoints.
 * {@link /v2/devices/merge/}
 */
export async function v2DevicesMergeCreate({ data, headers }: { data: V2DevicesMergeCreateMutationRequest; headers?: V2DevicesMergeCreateHeaderParams }, config: Partial<RequestConfig<V2DevicesMergeCreateMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<V2DevicesMergeCreateMutationResponse, ResponseErrorConfig<Error>, V2DevicesMergeCreateMutationRequest>({ method : "POST", url : `/v2/devices/merge/`, data : requestData, ... requestConfig, headers : { ...headers, ...requestConfig.headers } })  
  return res.data
}

/**
 * @description This endpoint designed for devices which used device v1 logic and will use device v2 logic. If client doesn'thas 'auth_token' but if it has device 'id' then this endpoint will create new `auth_token` or create very new device.- **IMPORTANT**: Requested device `id` and returned device `id` could be different. This endpoint might create new device.- **IMPORTANT 2**: It is not a "create new auth_token" endpoint. This endpoint **will deprecate** after sometime. Use this only if you know device `id` but don't know `auth_token`. Which means client has used device v1 endpoints before and it is the first time to need to use device v2 endpoints.
 * {@link /v2/devices/merge/}
 */
export function useV2DevicesMergeCreate<TContext>(options: 
{
  mutation?: UseMutationOptions<V2DevicesMergeCreateMutationResponse, ResponseErrorConfig<Error>, {data: V2DevicesMergeCreateMutationRequest, headers?: V2DevicesMergeCreateHeaderParams}, TContext> & { client?: QueryClient },
  client?: Partial<RequestConfig<V2DevicesMergeCreateMutationRequest>> & { client?: typeof fetch },
}
 = {}) {
  const { mutation = {}, client: config = {} } = options ?? {}
  const { client: queryClient, ...mutationOptions } = mutation;
  const mutationKey = mutationOptions.mutationKey ?? v2DevicesMergeCreateMutationKey()

  return useMutation<V2DevicesMergeCreateMutationResponse, ResponseErrorConfig<Error>, {data: V2DevicesMergeCreateMutationRequest, headers?: V2DevicesMergeCreateHeaderParams}, TContext>({
    mutationFn: async({ data, headers }) => {
      return v2DevicesMergeCreate({ data, headers }, config)
    },
    mutationKey,
    ...mutationOptions
  }, queryClient)
}